<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="359px" preserveAspectRatio="none" style="width:1171px;height:359px;background:#FFFFFF;" version="1.1" viewBox="0 0 1171 359" width="1171px" zoomAndPan="magnify"><title>Flujo principal end-to-end &#8212; PQRS Lakehouse PoC</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="342.248" x="407.4268" y="23.1318">Flujo principal end-to-end &#8212; PQRS Lakehouse PoC</text></g><!--entity GEN--><g class="entity" data-entity="GEN" data-source-line="10" data-uid="ent0002" id="entity_GEN"><rect fill="#F1F1F1" height="68.2959" rx="6" ry="6" style="stroke:#181818;stroke-width:0.5;" width="157.751" x="7" y="52.1486"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="81.7168" x="17" y="75.2805">Generadores</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="79.3721" x="17" y="91.3791">(Python Job)</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="137.751" x="17" y="107.4777">Simulan llegada diaria</text></g><!--entity RAW--><g class="entity" data-entity="RAW" data-source-line="12" data-uid="ent0003" id="entity_RAW"><rect fill="#F1F1F1" height="68.2959" rx="6" ry="6" style="stroke:#181818;stroke-width:0.5;" width="134.3994" x="75.68" y="262.0386"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="37.3379" x="85.68" y="285.1705">MinIO</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="114.3994" x="85.68" y="301.2691">S3 Object Storage</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="26.4482" x="85.68" y="317.3677">raw/</text></g><!--entity BRONZE--><g class="entity" data-entity="BRONZE" data-source-line="13" data-uid="ent0004" id="entity_BRONZE"><rect fill="#F1F1F1" height="68.2959" rx="6" ry="6" style="stroke:#181818;stroke-width:0.5;" width="134.3994" x="267.68" y="262.0386"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="37.3379" x="277.68" y="285.1705">MinIO</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="114.3994" x="277.68" y="301.2691">S3 Object Storage</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="108.9443" x="277.68" y="317.3677">bronze/ (Parquet)</text></g><!--entity SILVER--><g class="entity" data-entity="SILVER" data-source-line="14" data-uid="ent0005" id="entity_SILVER"><rect fill="#F1F1F1" height="68.2959" rx="6" ry="6" style="stroke:#181818;stroke-width:0.5;" width="134.3994" x="469.68" y="262.0386"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="37.3379" x="479.68" y="285.1705">MinIO</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="114.3994" x="479.68" y="301.2691">S3 Object Storage</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="98.8066" x="479.68" y="317.3677">silver/ (Parquet)</text></g><!--entity ETL--><g class="entity" data-entity="ETL" data-source-line="16" data-uid="ent0006" id="entity_ETL"><rect fill="#F1F1F1" height="84.3945" rx="6" ry="6" style="stroke:#181818;stroke-width:0.5;" width="173.2891" x="383.23" y="44.0986"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="147.0684" x="393.23" y="67.2305">ETL / Analytics Pipeline</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="153.2891" x="393.23" y="83.3291">(Python + Dask + Spark)</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="126.0342" x="393.23" y="99.4277">raw&#8594;bronze&#8594;silver</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="97.6719" x="393.23" y="115.5264">+ load Postgres</text></g><!--entity PG--><g class="entity" data-entity="PG" data-source-line="18" data-uid="ent0007" id="entity_PG"><path d="M753.22,259.4986 C753.22,249.4986 860.8782,249.4986 860.8782,249.4986 C860.8782,249.4986 968.5364,249.4986 968.5364,259.4986 L968.5364,332.8932 C968.5364,342.8932 860.8782,342.8932 860.8782,342.8932 C860.8782,342.8932 753.22,342.8932 753.22,332.8932 L753.22,259.4986" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M753.22,259.4986 C753.22,269.4986 860.8782,269.4986 860.8782,269.4986 C860.8782,269.4986 968.5364,269.4986 968.5364,259.4986" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="131.5166" x="763.22" y="286.6305">Postgres (Supabase)</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="54.4551" x="763.22" y="302.7291">- silver_*</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="48.2549" x="763.22" y="318.8277">- gold_*</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="195.3164" x="763.22" y="334.9264">- meta.* (etl_runs, data_quality)</text></g><!--entity DASH--><g class="entity" data-entity="DASH" data-source-line="20" data-uid="ent0008" id="entity_DASH"><rect fill="#F1F1F1" height="52.1973" rx="6" ry="6" style="stroke:#181818;stroke-width:0.5;" width="236.3096" x="913.72" y="60.1986"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="149.4131" x="923.72" y="83.3305">Dashboards / Consultas</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="216.3096" x="923.72" y="99.4291">(Grafana/Metabase/Streamlit/SQL)</text></g><g class="entity" data-entity="GMN17" data-source-line="37" data-uid="ent0018" id="entity_GMN17"><path d="M1003.65,261.2986 L1003.65,292.1886 L968.89,296.1886 L1003.65,300.1886 L1003.65,331.0936 A0,0 0 0 0 1003.65,331.0936 L1164.1017,331.0936 A0,0 0 0 0 1164.1017,331.0936 L1164.1017,271.2986 L1154.1017,261.2986 L1003.65,261.2986 A0,0 0 0 0 1003.65,261.2986" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1154.1017,261.2986 L1154.1017,271.2986 L1164.1017,271.2986 L1154.1017,261.2986" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="85.9917" x="1009.65" y="278.4925">meta.* habilita:</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="58.5317" x="1009.65" y="293.4412">- auditor&#237;a</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="99.7217" x="1009.65" y="308.3899">- reproducibilidad</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="139.4517" x="1009.65" y="323.3387">- reconstrucci&#243;n de runs</text></g><!--link GEN to RAW--><g class="link" data-entity-1="GEN" data-entity-2="RAW" data-source-line="23" data-uid="lnk9" id="link_GEN_RAW"><path d="M78.76,120.8986 C74.45,148.2386 71.7,187.4086 82.88,219.4986 C88.23,234.8586 94.2686,244.8563 104.5186,257.0463" fill="none" id="GEN-to-RAW" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="108.38,261.6386,105.6494,252.1759,105.1621,257.8117,99.5263,257.3245,108.38,261.6386" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="91.0508" x="83.88" y="186.6925">escribe eventos</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="80.9009" x="88.955" y="201.6412">(JSONL/CSV)</text></g><!--link ETL to RAW--><g class="link" data-entity-1="ETL" data-entity-2="RAW" data-source-line="24" data-uid="lnk10" id="link_ETL_RAW"><path d="M382.91,99.3186 C335.87,109.1786 278.8,126.9086 235.88,158.4986 C199.58,185.1986 175.4637,225.1825 160.2037,256.2725" fill="none" id="ETL-to-RAW" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="157.56,261.6586,165.1163,255.3419,159.7631,257.1702,157.9348,251.8169,157.56,261.6586" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="41.9072" x="236.88" y="194.1925">lee raw</text></g><!--link ETL to BRONZE--><g class="link" data-entity-1="ETL" data-entity-2="BRONZE" data-source-line="25" data-uid="lnk11" id="link_ETL_BRONZE"><path d="M421.92,128.9786 C412.93,138.1486 404.1,148.2086 396.88,158.4986 C384.6,175.9886 364.8947,221.6207 350.6747,256.1507" fill="none" id="ETL-to-BRONZE" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="348.39,261.6986,355.5158,254.8998,350.294,257.0753,348.1185,251.8535,348.39,261.6986" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="91.0508" x="397.88" y="194.1925">escribe Parquet</text></g><!--link ETL to BRONZE--><g class="link" data-entity-1="ETL" data-entity-2="BRONZE" data-source-line="26" data-uid="lnk12" id="link_ETL_BRONZE"><path d="M382.84,101.9486 C350.24,112.1286 316.4,129.3486 296.88,158.4986 C275.9,189.8086 290.4779,227.3768 308.0979,256.6768" fill="none" id="ETL-to-BRONZE-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="311.19,261.8186,309.9797,252.0444,308.6132,257.5338,303.1239,256.1673,311.19,261.8186" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="60.709" x="297.88" y="194.1925">lee bronze</text></g><!--link ETL to SILVER--><g class="link" data-entity-1="ETL" data-entity-2="SILVER" data-source-line="27" data-uid="lnk13" id="link_ETL_SILVER"><path d="M486.99,128.8386 C490.76,138.5086 494.6,148.8086 497.88,158.4986 C509.66,193.3286 519.405,228.1183 526.775,255.9683" fill="none" id="ETL-to-SILVER" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="528.31,261.7686,529.8745,252.0448,527.0309,256.935,522.1407,254.0914,528.31,261.7686" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="91.0508" x="517.29" y="194.1925">escribe Parquet</text></g><!--link ETL to PG--><g class="link" data-entity-1="ETL" data-entity-2="PG" data-source-line="28" data-uid="lnk14" id="link_ETL_PG"><path d="M556.96,94.6086 C648.39,104.0286 784.05,123.5186 821.88,158.4986 C835.24,170.8486 844.9864,208.4625 851.8364,243.1125" fill="none" id="ETL-to-PG" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="853,248.9986,855.1786,239.3938,852.0303,244.0936,847.3305,240.9453,853,248.9986" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="129.3462" x="846.62" y="186.6925">carga silver_* y gold_*</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="75.1245" x="873.7308" y="201.6412">(SQL/COPY)</text></g><!--link ETL to PG--><g class="link" data-entity-1="ETL" data-entity-2="PG" data-source-line="34" data-uid="lnk16" id="link_ETL_PG"><path d="M556.78,120.9886 C577.63,131.2786 599.02,143.8186 616.88,158.4986 C643.11,180.0486 635.74,199.0786 662.88,219.4986 C689.42,239.4586 716.2237,252.6743 747.1037,264.1143" fill="none" id="ETL-to-PG-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="752.73,266.1986,745.6801,259.3212,748.0414,264.4617,742.901,266.823,752.73,266.1986" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="113.4453" x="681.9454" y="171.6925">registra trazabilidad</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="46.23" x="715.5531" y="186.6412">(meta.*)</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="149.5762" x="663.88" y="201.5899">(run_id, tiempos, conteos,</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="107.6689" x="684.8336" y="216.5387">checks de calidad)</text></g><!--link DASH to PG--><g class="link" data-entity-1="DASH" data-entity-2="PG" data-source-line="31" data-uid="lnk15" id="link_DASH_PG"><path d="M1029.99,112.7486 C1026.69,141.4286 1017.64,188.1386 992.88,219.4986 C984.03,230.6886 977.9109,237.0113 966.0809,245.5713" fill="none" id="DASH-to-PG" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="961.22,249.0886,970.8563,247.0533,965.2708,246.1576,966.1665,240.5721,961.22,249.0886" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="93.228" x="1030.8582" y="186.6925">consume gold_*</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="110.5444" x="1022.2" y="201.6412">(y algunas silver_*)</text></g><!--SRC=[ZLHBRjim4Dth58DiQYTnXRIxB0guZkCcS6B52bAqC62CnR74c2OTaahW50MwwW6ANgEh7Y4toKawb19_Mg38IjGCt-ERzoXvwHN1iIgl3Ioir9bSe0BIekLDYn_m-Eqd91V35FeueyAKZY0ndIXoCwaNQ74Eha1XxgJEOOhAqKP7q1HBvO-DzkSu9sXRYMgZtxRMt5qMCfjfSWuEDbgMCeywPsrV8e2XARNe6Al9mi6Rw6iKhVixFU8oIx3aHhgHB7rXD9oQINEaKpal5MfGYd8K248YIzW1TD3hdc-nd4bzCc34MnXChhaCgJSMSnffYtTn1HcsFxuCCR56trCCZGJjJKc-MS7V3mVddxilOt1ItPBzco4zwLzrXrkokvTzYA6jKIszp1maSa5AQbexiGT7w6RyIDdPMREQv_7xZreZB-gZHdeFb471uJgVivNLWSmUHG8zJf1pttdkGICj5rMDwLfGCuntmpetIjIhENbylGiDycfiI-ts8H2DRqfKqY_hWPBUrZ0ij9WOjCBnJ1sZ7LyU3A7sB4vHOtn6jPGuzPPmpaHnUj6lkOxQwOSeUlLqbmM5uuoBE6TejTw5yE0Go6LMJWZebZHtcVeq7PptuqvwrOo2b-kjYWZOgbMrZc-3uocQVpS4P6tlgbSdznzmqkDcXZR7bPsmNBdPu2dZpY3vr0mJLixCJHGctW1NLLfZbe0gBpLRyynOeOE7bJNiiRTuZnEff42nBSLIBXstjxOmQPqgnzxWJCTIx8END5yOZfS5UEB5I6S5PJCNCiYm0lB1sdZsK-Q51pCDmJ_TZw8YztWOjG1B8VaBUFY5_69fOOqeC_ciBvJ2aDwMMIOVVkjmGBXPKVXF1Vxe3m00]--></g></svg>